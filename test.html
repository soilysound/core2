<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Scorecentre">
  <meta name="application-name" content="SkySports">
  <meta name="viewport" id="viewport" content="width=device-width,maximum-scale=1,minimum-scale=1">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title></title>
  <link rel="stylesheet" href="css/core.css" type="text/css">
  <script src="js/head-min.js"></script>
  <style>
  .test-nav {
    border:2px solid red;
    height:50px;
  }
  </style>
</head>

<body>
<div class="wrap">

<div class="-auto16/9">
  <noscript>
    <img data-img="http://e1.365dm.com/13/08/16-9/#{30}/England-Ashes-winners-2013_2993393.jpg?20130825203427" >
  </noscript>
</div>

<div class="test-nav grid is-hidden--bp30" id="test-nav">
  <script type="text/html-template">
    <div class="grid__col">
        MENU 1
        </div>
        <div class="grid__col">
        MENU 2
        </div>
        <div class="grid__col">
        MENU 3
    </div>
  </script>
</div>

</div>
</body>
  <script src="js/site-min.js"></script>

 <script type="text/html-template">
    <div class="grid__col">
        MENU 1
        </div>
        <div class="grid__col">
        MENU 2
        </div>
        <div class="grid__col">
        MENU 3
    </div>
  </script>
  <script>
  var el = document.querySelector('#test-nav > :first-child');

  function insertHTML(){
    if(document.currentBreakPoint<30){
      renderTemplate(el);
      //el.parentNode.removeChild(el);
      document.removeEventListener('breakPointChange', func, false);
    }
  }

  var func = function(){
    insertHTML();
  }

  window.requestAnimationFrame(function(){
    insertHTML();
  })

  document.addEventListener('breakPointChange', func, false);

  function renderTemplate(el){
    var templateHTML = el.innerText;
    el.insertAdjacentHTML('beforebegin', templateHTML);
  }
  // function uncomment(el){

  //   var node = null;
  //   var children = el.childNodes;
  //   for(var i = -1;++i<children.length;){
  //     if(children[i].nodeType === 8){
  //       node = children[i];
  //       break;
  //     }
  //   }

  //   el.innerHTML = node.nodeValue
  // }


  // function comment(el){

  //   var html = el.innerHTML;

  //   if(html.match("<!--")){
  //     return;
  //   }

  //   var comment = document.createComment(el.innerHTML);

  //   el.innerHTML = '';
  //   el.appendChild(comment);
  // }


  </script>
</html>

